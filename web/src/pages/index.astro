---
import Layout from '../layouts/Layout.astro';

import theme from '../../../src/theme.js'
const { animation } = theme
---

<Layout title="Welcome to Astro.">
	<main class="pb-20">
		<header class="max-w-4xl mx-auto flex justify-center items-center py-10 flex-col">
			<h1 class="font-semibold text-4xl pt-10">tailwind css animation</h1>
			<h2 class="font-medium opacity-70">the pluin that you need</h2>
			<div class="mt-10">
				<code>npm install @lumidega/animations-dsltw</code>
			</div>
		</header>


		<section class="max-w-4xl m-auto grid grid-cols-3 gap-4">
			{
        Object.keys(animation).map((animationKey) => {
          return (
            <article
              class='col-span-1 border rounded border-gray-200 hover:border-gray-600 hover:shadow transition cursor-crosshair'
              data-class={animationKey}
            >
              <div class='p-4 flex gap-4 items-center justify-center flex-col w-full h-full'>
                <span class='h-16 w-16 bg-blue-600 items-center justify-center rounded-md' />
                <p class='text-sm font-semibold opacity-80'>{animationKey}</p>
              </div>
            </article>
          )
        })
      }
		</section>
	</main>
</Layout>

<style>

</style>
<script>
	const $articles = document.querySelectorAll('article')

	$articles.forEach( $article => {
		const animationKey = $article.getAttribute('data-class')
		const animationClass = `animate-${animationKey}`
		const $box = $article.querySelector('span')
		if (!$box) return;
		$article.addEventListener('mouseenter', () => {
			$box.classList.add(animationClass)
		});
		$article.addEventListener('mouseleave', () => {
			$box.classList.remove(animationClass)
		});
	})
</script>